# 타입 변환
**각 데이터 프레임 안에 존재하는 필드(열)마다 형식을 따로 지정해주는 것**

```
# 기본구조

df = df.astype({'원하는 것' : '타입형'})

df['원하는 것'] = pd.to_numeric(df['원하는 것'], errors = 'coerce') 
 # 여기서 pd는 pandas 별칭붙여준 것
 # " errors = 'coerce' " 안쓰면 오류.(에러나면 NaN값으로 대처해라라는 뜻)  에러처리 느낌인듯..
```


- 데이터 생성
```
import pandas as pd

df = pd.DataFrame({'판매일' : ['5/11/21', '5/12/21', '5/13/21', '5/14/21', '5/15/21'],
                   '판매량' : ['10', '15', '20', '25', '30'], '방문자수' : ['10', '-', '17', '23', '25'], 
                   '기온' : ['24.1', '24.3', '24.8', '25', '25.4']})

df       # 출력
```
실행결과   
![](https://user-images.githubusercontent.com/64197543/152570831-02b4c839-f4b0-4c50-890b-27abbd7009c5.PNG)

```
df.dtypes                   # 전부 object 타입

# object 형식은 덧셈, 뺄셈이 안된다. -> 정수형태로 변형 후 사용
```

\- 문제 : 판매량을 정수 형태로 변환 하시오.

```
df.astype({'판매량' : 'int'})           # 바뀌지 않음

df = df.astype({'판매량' : 'int'})      # 이렇게 써줘야 함 
```

```
df['판매량 보정'] = df['판매량'] + 1            # object 타입일 때는 오류났는데 이제 int 형으로 바뀌어서 잘 작동된다.
df
```
실행결과   
![](https://user-images.githubusercontent.com/64197543/152570836-f3d07268-0cb5-438e-a18c-03ac25597b67.PNG)


\- 문제 : 방문자수를 숫자 타입으로 변형 하시오.
```
pd.to_numeric(df['방문자수'])               # 오류

pd.to_numeric(df['방문자수'], errors = 'coerce')        # 에러처리 해줘야 함, But 안 바뀜

df['방문자수'] = pd.to_numeric(df['방문자수'], errors = 'coerce')           # 이렇게 써줘야 함
```

![](https://user-images.githubusercontent.com/64197543/152570837-4f53371b-7e82-4702-aca2-7f5f8f79ffd1.PNG)

```
df = df.astype({'방문자수' : 'int'})            # 오류. 위에서 보면 NaN 값이 있기 때문
# NaN 값이 있으면 타입변환할 때 오류생김 -> NaN값 치환해줘야 함
```

```
# 위의 오류 수정
df.fillna(0, inplace = True)
df = df.astype({'방문자수' : 'int'})
```
실행결과   
![](https://user-images.githubusercontent.com/64197543/152571138-844179bd-ff26-42ed-a7e1-90b0e47ef78c.PNG)


\- 문제 : 판매일을 datetime 의 형태로 바꾸시오.
```
df['판매일'] = pd.to_datetime(df['판매일'], format="%m/%d/%y")
df
```
실행결과   
![](https://user-images.githubusercontent.com/64197543/152571381-0a2f9193-e9af-4086-812c-aad5af773a41.PNG)
```
df.dtypes
```
실행결과   
![](https://user-images.githubusercontent.com/64197543/152571454-2c6d3662-38e9-4bf9-8978-e56c146a5c80.PNG)