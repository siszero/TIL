# 결측값 처리

```
import pandas as pd
import numpy as np

df = pd.DataFrame({'a' : [1, 1, 3, 4, 5], 'b' : [2, 3, np.nan, 3, 4], 'c' : [3, 4, 7, 6, 4]})
```
```
df
```
실행결과   
![1](https://user-images.githubusercontent.com/64197543/152566191-5b22bdfe-7e71-4562-9e2c-ad9be1fad951.PNG)


### 결측 유무 확인
```
df.isnull()
```
실행결과   
![1](https://user-images.githubusercontent.com/64197543/152548794-0c372e16-1609-43d0-b9d3-f6fd1e273fe6.PNG)


### 결측값 개수 확인
```
df.isnull().sum()
```
실행결과   
![1](https://user-images.githubusercontent.com/64197543/152548973-23e6eb61-f210-407b-9a33-90e8ee0e0251.PNG)


### 결측값이 포함된 열 / 행 지우기
\- 결측값이 포함된 행 지우기
```
df
```
실행결과   
![2](https://user-images.githubusercontent.com/64197543/152549295-c047c386-6d0e-4323-aa90-425c161be07d.PNG)

```
df.dropna()             # df 자체를 바꾸려면 df.dropna(inplace = True)
```
실행결과   
![3](https://user-images.githubusercontent.com/64197543/152549298-62352d9e-e08d-40f0-8dc0-3b064dcbe300.PNG)


\- 결측값이 포함된 열 지우기
```
df.dropna(axis=1)
```
실행결과   
![4](https://user-images.githubusercontent.com/64197543/152549662-b06182ad-5b52-40f4-b6cc-38d076b2aaec.PNG)


### 결측값을 다른 값으로 대체하기
\- 특정값으로 대체하기
```
df.fillna(0, inplace=True)
df
```
실행결과   
![1](https://user-images.githubusercontent.com/64197543/152550031-3177de6d-04ea-4a6a-bcf2-379d0885b049.PNG)

\- 앞이나 뒤의 숫자로 바꾸기
```
df = pd.DataFrame({'a' : [1, 1, 3, 4, np.nan], 'b' : [2, 3, np.nan, np.nan, 4], 'c' : [np.nan, 4, 1, 1, 4]})
df
```
실행결과   
![1](https://user-images.githubusercontent.com/64197543/152550250-150447da-1ee6-4090-ae16-93153b9817b9.PNG)

1. 뒤의 값으로 채우기
```
df.fillna(method='bfill')
```
실행결과   
![1](https://user-images.githubusercontent.com/64197543/152555232-347b5072-bb3d-458e-8325-4fde5139cec9.PNG)


```
df
```
실행결과   
![2](https://user-images.githubusercontent.com/64197543/152555236-87977bc3-7d34-4a2c-8344-21094f692549.PNG)


2. 앞의 값으로 채우기
```
df.fillna(method='ffill')
```
실행결과   
![1](https://user-images.githubusercontent.com/64197543/152555349-d668dcd2-a05c-4424-8fbc-df9686373dc3.PNG)


\- limit 설정 
```
df
```
실행결과   
![1](https://user-images.githubusercontent.com/64197543/152557465-77525c10-e3fe-4534-bb8b-e0e97f68c6a5.PNG)


```
df.fillna(method='ffill', limit =1)
```
실행결과   
-> b 열에서는 limit가 1이기 때문에 인덱스 2행에서는 값이 바뀌고 3행에서는 바뀌지 않는다.   
-> c 열에서는 앞의 값이 없기 때문에 바뀌지 않는다.   
![2](https://user-images.githubusercontent.com/64197543/152557472-06226250-a44d-439e-8838-fb4c819addfa.PNG)



- 문제 : 데이터 프레임에 존재하는 결측값들을 뒤의 값으로 대체한 이후 앞의 값으로 대체하시오.

```
df = pd.DataFrame({'a' : [1, 1, 3, 4, np.nan], 'b' : [2, 3, np.nan, np.nan, 4], 'c' : [np.nan, 4, 1, 1, 4]})
df
```
실행결과   
![1](https://user-images.githubusercontent.com/64197543/152563546-9f95230b-4625-4ce5-b261-424395e1d59e.PNG)

```
df.fillna(method='bfill', inplace=True)
df
```
실행결과   
![2](https://user-images.githubusercontent.com/64197543/152563553-73173c20-b47e-4af7-90be-de434f71f155.PNG)

```
df.fillna(method='ffill', inplace=True)
df
```
실행결과   
![3](https://user-images.githubusercontent.com/64197543/152563555-cf89ffa7-0cbf-4a43-a307-3f27a0378d0f.PNG)


\- 평균으로 대체
```
df = pd.DataFrame({'a' : [1, 1, 3, 4, np.nan], 'b' : [2, 3, np.nan, np.nan, 4], 'c' : [np.nan, 4, 1, 1, 4]})
df
```
실행결과   
![1](https://user-images.githubusercontent.com/64197543/152563546-9f95230b-4625-4ce5-b261-424395e1d59e.PNG)

```
df.mean()['a']                      # 2.25

df.fillna(df.mean()['a'])           # NaN을 2.25로 변경
```
실행결과   
![1](https://user-images.githubusercontent.com/64197543/152565983-fe9621cf-7b58-48fc-84b7-58b77b4a9099.PNG)

```
df.mean()                           # a 는 2.25     b 는 3.00       c 는 2.50

df.fillna(df.mean())                # 각 열의 빈칸을 해당 열의 평균 대입
```
실행결과   
![2](https://user-images.githubusercontent.com/64197543/152565985-f551fa03-df5b-4c4f-a24f-09baa8d38a69.PNG)

```
df.fillna(df.mean()[['b','c']])         # b, c 의 결측값만 치환하고 싶을 때
```
실행결과   
![3](https://user-images.githubusercontent.com/64197543/152565987-ab487df7-2700-48cc-a196-5744b75a20ae.PNG)
